# タロットAIアプリ 詳細コスト試算書（完成版）

## 📊 即答形式トークン数の詳細根拠

### プロンプト構造の詳細分析

```
あなたは熟練のタロット占い師です。
{スプレッド名}に従って以下のカードを使って{占いカテゴリ名}について占ってください。

n枚目:{位置の意味}:愚者:正:{カード意味一覧}
n+1枚目:{位置の意味}:世界:逆:{カード意味一覧}
...

# 出力
---
n枚目のカードの解釈
---
総合占い結果
---
```

### 入力トークン内訳

| 要素 | 3枚引き | 7枚スプレッド | ケルト十字 |
|------|---------|-------------|-----------|
| **固定プロンプト** | | | |
| - システムプロンプト | 100 | 100 | 100 |
| - スプレッド名・カテゴリ | 50 | 50 | 50 |
| - 出力指示 | 50 | 50 | 50 |
| **カード情報（1枚あたり900トークン）** | | | |
| - 位置の意味（例：「現在の状況」） | 20 | 20 | 20 |
| - カード名・正逆（例：「愚者:正」） | 10 | 10 | 10 |
| - カード意味一覧： | | | |
|   　- 基本象徴 | 100 | 100 | 100 |
|   　- 正位置解釈 | 350 | 350 | 350 |
|   　- 逆位置解釈 | 350 | 350 | 350 |
|   　- 文脈別意味 | 70 | 70 | 70 |
| **カード情報小計（1枚）** | 900 | 900 | 900 |
| **カード合計** | 900×3=2,700 | 900×7=6,300 | 900×10=9,000 |
| **入力総計** | **2,900** | **6,500** | **9,200** |

### 出力トークン内訳

| 要素 | 3枚引き | 7枚スプレッド | ケルト十字 |
|------|---------|-------------|-----------|
| カード解釈（1枚あたり） | 150 | 150 | 150 |
| カード解釈合計 | 450 | 1,050 | 1,500 |
| 総合占い結果 | 350 | 500 | 500 |
| **出力総計** | **800** | **1,550** | **2,000** |

### コスト計算（$1=¥150）

**3枚引き：**
- 入力：2,900 × $3/1M = $0.0087 (¥1.31)
- 出力：800 × $15/1M = $0.012 (¥1.80)
- **合計：¥3.11**

**7枚スプレッド：**
- 入力：6,500 × $3/1M = $0.0195 (¥2.93)
- 出力：1,550 × $15/1M = $0.02325 (¥3.49)
- **合計：¥6.42**

**ケルト十字：**
- 入力：9,200 × $3/1M = $0.0276 (¥4.14)
- 出力：2,000 × $15/1M = $0.03 (¥4.50)
- **合計：¥8.64**

## 🤖 AI対話形式トークン数の詳細根拠

### ステップ1：スプレッド推奨の内訳

**入力プロンプト構造：**
```
あなたは熟練のタロット占い師です。
ユーザーの入力した{占いたい内容}という入力に対して、適切なスプレッドを選択してください。

[全22種類のスプレッド情報]

出力結果
{DBのID}
```

| 要素 | トークン数 |
|------|----------|
| システムプロンプト | 150 |
| ユーザー入力 | 150 |
| スプレッド一覧（22種×100トークン）： | |
| - ID・名前・レベル | 20×22=440 |
| - カテゴリ・枚数 | 15×22=330 |
| - 各カードの意味 | 65×22=1,430 |
| 出力指示 | 100 |
| **入力合計** | **2,600** |
| **出力** | **20** |

**コスト：**
- 入力：2,600 × $3/1M = $0.0078 (¥1.17)
- 出力：20 × $15/1M = $0.0003 (¥0.05)
- **小計：¥1.22**

### ステップ2：全カード解釈＋重要3枚選択の内訳

**入力プロンプト構造：**
```
あなたは熟練のタロット占い師です。
{スプレッド名}に従って以下のカードを使って{占いたい内容}についてまず全カードの解釈を提示してください。
また、最終的な占い結果を提示するのに当たり、重要なカードを3枚選択してください。
この後ユーザーにその3枚のカードについて思い当たることを入力してもらいます。

[ケルト十字10枚分のカード情報]

# 出力
---
n枚目のカードの解釈
...
---
{カード名}
{カード名}
{カード名}
---
```

| 要素 | トークン数 |
|------|----------|
| システムプロンプト | 200 |
| スプレッド名・占いたい内容 | 150 |
| カード情報（10枚×900） | 9,000 |
| 出力指示 | 150 |
| **入力合計** | **9,500** |
| カード解釈（10枚×150） | 1,500 |
| 重要3枚のカード名 | 50 |
| **出力合計** | **1,550** |

**コスト：**
- 入力：9,500 × $3/1M = $0.0285 (¥4.28)
- 出力：1,550 × $15/1M = $0.02325 (¥3.49)
- **小計：¥7.77**

### ステップ3：再解釈＋総合結果の内訳

**入力プロンプト構造：**
```
あなたは熟練のタロット占い師です。
前回のカード解釈と以下のユーザー入力に従って総合的な占い結果を提示してください。

---
スプレッド名
---
[前回の10枚のカード解釈]
---
{ユーザーの入力}
{ユーザーの入力}
{ユーザーの入力}
---

# 出力
---
n枚目のカードの解釈（再解釈結果）
...
---
総合占い結果
---
```

| 要素 | トークン数 |
|------|----------|
| システムプロンプト | 150 |
| スプレッド名 | 50 |
| 前回の解釈（10枚×150） | 1,500 |
| ユーザー入力3つ（各200） | 600 |
| 出力指示 | 100 |
| **入力合計** | **2,400** |
| 再解釈（10枚×150） | 1,500 |
| 総合占い結果 | 500 |
| **出力合計** | **2,000** |

**コスト：**
- 入力：2,400 × $3/1M = $0.0072 (¥1.08)
- 出力：2,000 × $15/1M = $0.03 (¥4.50)
- **小計：¥5.58**

### AI対話合計コスト

| ステップ | コスト |
|---------|--------|
| ステップ1（スプレッド推奨） | ¥1.22 |
| ステップ2（全カード解釈） | ¥7.77 |
| ステップ3（再解釈） | ¥5.58 |
| **合計** | **¥14.57/回** |

## 💰 修正後MAX使用時コスト試算（スタンダード2パターン）

### 回数制限（修正版）
- フリー未登録：1日1回（月30回）
- フリー登録済：1日3回（月90回）
- **スタンダード：7枚以下1日3回 OR ケルト十字1日1回**
- プレミアム：即答1日3回（月90回）+ AI対話1日1回（月30回）

### Claude API コスト（MAX使用）

| プラン | 人数 | 回数/月 | スプレッド | コスト/人 | 総コスト |
|--------|------|---------|----------|----------|----------|
| **フリー未登録** | 4,000 | 30回 | 3枚引き | 30×¥3.11=¥93.3 | ¥373,200 |
| **フリー登録済** | 3,000 | 90回 | 3枚引き | 90×¥3.11=¥279.9 | ¥839,700 |
| **スタンダード（7枚3回）** | 2,000 | 90回 | 7枚スプレッド | 90×¥6.42=¥577.8 | ¥1,155,600 |
| **スタンダード（ケルト1回）** | 2,000 | 30回 | ケルト十字 | 30×¥8.64=¥259.2 | ¥518,400 |
| **プレミアム即答** | 1,000 | 90回 | ケルト十字 | 90×¥8.64=¥777.6 | ¥777,600 |
| **プレミアムAI** | 1,000 | 30回 | AI対話 | 30×¥14.57=¥437.1 | ¥437,100 |

**Claude API 総コスト（7枚パターン）：¥3,583,200/月**
**Claude API 総コスト（ケルトパターン）：¥2,946,000/月**

## 📺 広告収入（MAX想定）

### フリー未登録（4,000人）
- 30回/月、インタースティシャル広告
- 表示率70%、eCPM ¥1,500
- **¥150/人 → ¥600,000/月**

### フリー登録済（3,000人）
- 90回/月、3回目から広告視聴必須
- 表示率90%（60回が広告付き）、eCPM ¥1,500
- **¥300/人 → ¥900,000/月**

**広告収入合計：¥1,500,000/月**

## 🖥️ AWS コスト（詳細）

| サービス | 内容 | 月額 |
|---------|------|------|
| **Cognito** | 8,000 MAU × $0.0055 | ¥6,600 |
| **RDS** | db.t3.small + 50GB | ¥6,225 |
| **Lambda + API Gateway** | 1,000万リクエスト | ¥8,250 |
| **S3** | 10GB ストレージ | ¥750 |
| **CloudFront** | 1TB転送 | ¥12,750 |
| **合計** | | **¥34,575** |

## 📱 モバイルアプリ課金手数料

| プラン | 月次収益 | 手数料15% |
|--------|---------|----------|
| スタンダード | ¥1,960,000 | ¥294,000 |
| プレミアム | ¥1,980,000 | ¥297,000 |
| **合計** | | **¥591,000** |

## 🔧 その他コスト

- サーバー監視・ログ：¥10,000
- バックアップ：¥5,000
- メール配信：¥5,000
- 予備費：¥10,000
- **合計：¥30,000/月**

## 📊 最終収支サマリー（2パターン）

### 【パターンA：7枚スプレッド3回選択時】

#### 収益
| 項目 | 金額 |
|------|------|
| スタンダード（手数料後） | ¥1,666,000 |
| プレミアム（手数料後） | ¥1,683,000 |
| 広告収入 | ¥1,500,000 |
| **月次総収益** | **¥4,849,000** |

#### コスト
| 項目 | 金額 |
|------|------|
| Claude API | ¥3,583,200 |
| AWS | ¥34,575 |
| その他 | ¥30,000 |
| **月次総コスト** | **¥3,647,775** |

#### 収支
| 項目 | 金額 |
|------|------|
| 月次総収益 | ¥4,849,000 |
| 月次総コスト | ¥3,647,775 |
| **月次利益** | **¥1,201,225** |
| **利益率** | **24.8%** |
| **年間利益** | **¥14,414,700** |

### 【パターンB：ケルト十字1回選択時】

#### 収益
| 項目 | 金額 |
|------|------|
| スタンダード（手数料後） | ¥1,666,000 |
| プレミアム（手数料後） | ¥1,683,000 |
| 広告収入 | ¥1,500,000 |
| **月次総収益** | **¥4,849,000** |

#### コスト
| 項目 | 金額 |
|------|------|
| Claude API | ¥2,946,000 |
| AWS | ¥34,575 |
| その他 | ¥30,000 |
| **月次総コスト** | **¥3,010,575** |

#### 収支
| 項目 | 金額 |
|------|------|
| 月次総収益 | ¥4,849,000 |
| 月次総コスト | ¥3,010,575 |
| **月次利益** | **¥1,838,425** |
| **利益率** | **37.9%** |
| **年間利益** | **¥22,061,100** |

## 🎯 プラン別収益性分析

### パターンA（7枚スプレッド3回）

| プラン | 純収益/人 | コスト/人 | 利益/人 | ROI |
|--------|----------|----------|---------|-----|
| フリー未登録 | ¥150 | ¥93 | ¥57 | 61% |
| フリー登録済 | ¥300 | ¥280 | ¥20 | 7% |
| **スタンダード** | **¥833** | **¥578** | **¥255** | **31%** |
| **プレミアム** | **¥1,683** | **¥1,215** | **¥468** | **39%** |

### パターンB（ケルト十字1回）

| プラン | 純収益/人 | コスト/人 | 利益/人 | ROI |
|--------|----------|----------|---------|-----|
| フリー未登録 | ¥150 | ¥93 | ¥57 | 61% |
| フリー登録済 | ¥300 | ¥280 | ¥20 | 7% |
| **スタンダード** | **¥833** | **¥259** | **¥574** | **69%** |
| **プレミアム** | **¥1,683** | **¥1,215** | **¥468** | **39%** |

## 🎯 結論

**スタンダードを2パターンに分けた結果：**

✅ **大幅改善！**
- パターンA（7枚3回）：利益率24.8%、スタンダードROI 31%
- パターンB（ケルト1回）：利益率37.9%、スタンダードROI 69%

**メリット：**
1. ユーザーが選択できる柔軟性
2. 「ケルト十字は特別」という価値感
3. どちらを選んでも健全な収益性

**この設計は非常に優れています！**